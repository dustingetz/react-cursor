!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.ReactCursor=e():t.ReactCursor=e()}(this,function(){return function(t){function e(n){if(r[n])return r[n].exports;var u=r[n]={exports:{},id:n,loaded:!1};return t[n].call(u.exports,u,u.exports,e),u.loaded=!0,u.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var u=r(1),o=n(u),i=r(14),a=n(i),f=r(15),c=n(f);e["default"]={Cursor:o["default"],ImmutableOptimizations:c["default"],RefCursor:a["default"]},t.exports=e["default"]},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var u=r(2),o=r(11),i=r(13),a=!1,f=function p(t,e,r,i){var f=this;n(this,p),this.value=function(){return i},this.refine=function(){for(var n=arguments.length,u=Array(n),i=0;n>i;i++)u[i]=arguments[i];return l(t,e,r.concat(u),(0,o.getIn)(f.value(),u))},this.swap=function(t){for(var n=arguments.length,o=Array(n>1?n-1:0),i=1;n>i;i++)o[i-1]=arguments[i];return e(function(e){return(0,u.updateIn)(e,r,function(e){return t.apply(null,[e].concat(o))})})},this.set=function(t){return f.swap(function(e){return t})},this.merge=function(t){return f.swap(u.merge,t)},this.push=function(t){return f.swap(u.push,t)},this.unshift=function(t){return f.swap(u.unshift,t)},this.splice=function(t){return f.swap(u.splice,t)},a&&(0,o.deepFreeze)(i)},c=function(t,e,r,n){return new f(t,e,r,n)},s=function(t,e,r,n){return(0,o.refToHash)(e)+(0,o.hashRecord)(n)+(0,o.hashRecord)(r)},l=(0,o.memoized)(s,c);f.build=function(t,e){return(0,i.isReactCmp)(t)?l((0,i.makeValueFromReact)(t),(0,i.makeSwapFromReact)(t),[],(0,i.makeValueFromReact)(t)):l(t,e,[],t)},e["default"]=f,t.exports=e["default"]},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function u(t,e){return(0,p["default"])(t,{$merge:e})}function o(t,e){return(0,p["default"])(t,{$push:e})}function i(t,e){return(0,p["default"])(t,{$unshift:e})}function a(t,e){return(0,p["default"])(t,{$splice:e})}function f(t,e,r){for(var n=arguments.length,u=Array(n>3?n-3:0),o=3;n>o;o++)u[o-3]=arguments[o];var i,a=function(t){return r.apply(null,[t].concat(u))};if(e.length>0){var f=c(e,{$apply:a});i=(0,p["default"])(t,f)}else 0===e.length&&(i=a(t));return(0,d["default"])(t,i)?t:i}function c(t,e){return t.reduceRight(s,e)}function s(t,e){var r={};return r[e]=t,r}Object.defineProperty(e,"__esModule",{value:!0}),e.merge=u,e.push=o,e.unshift=i,e.splice=a,e.updateIn=f;var l=r(3),p=n(l),h=r(8),d=n(h)},function(t,e,r){t.exports=r(4)},function(t,e,r){"use strict";function n(t){return Array.isArray(t)?t.concat():t&&"object"==typeof t?i(new t.constructor,t):t}function u(t,e,r){Array.isArray(t)?void 0:f(!1);var n=e[r];Array.isArray(n)?void 0:f(!1)}function o(t,e){if("object"!=typeof e?f(!1):void 0,c.call(e,h))return 1!==Object.keys(e).length?f(!1):void 0,e[h];var r=n(t);if(c.call(e,d)){var a=e[d];a&&"object"==typeof a?void 0:f(!1),r&&"object"==typeof r?void 0:f(!1),i(r,e[d])}c.call(e,s)&&(u(t,e,s),e[s].forEach(function(t){r.push(t)})),c.call(e,l)&&(u(t,e,l),e[l].forEach(function(t){r.unshift(t)})),c.call(e,p)&&(Array.isArray(t)?void 0:f(!1),Array.isArray(e[p])?void 0:f(!1),e[p].forEach(function(t){Array.isArray(t)?void 0:f(!1),r.splice.apply(r,t)})),c.call(e,y)&&("function"!=typeof e[y]?f(!1):void 0,r=e[y](r));for(var v in e)m.hasOwnProperty(v)&&m[v]||(r[v]=o(t[v],e[v]));return r}var i=r(5),a=r(6),f=r(7),c={}.hasOwnProperty,s=a({$push:null}),l=a({$unshift:null}),p=a({$splice:null}),h=a({$set:null}),d=a({$merge:null}),y=a({$apply:null}),v=[s,l,p,h,d,y],m={};v.forEach(function(t){m[t]=!0}),t.exports=o},function(t,e){"use strict";function r(t,e){if(null==t)throw new TypeError("Object.assign target cannot be null or undefined");for(var r=Object(t),n=Object.prototype.hasOwnProperty,u=1;u<arguments.length;u++){var o=arguments[u];if(null!=o){var i=Object(o);for(var a in i)n.call(i,a)&&(r[a]=i[a])}}return r}t.exports=r},function(t,e){"use strict";var r=function(t){var e;for(e in t)if(t.hasOwnProperty(e))return e;return null};t.exports=r},function(t,e,r){"use strict";var n=function(t,e,r,n,u,o,i,a){if(!t){var f;if(void 0===e)f=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,n,u,o,i,a],s=0;f=new Error("Invariant Violation: "+e.replace(/%s/g,function(){return c[s++]}))}throw f.framesToPop=1,f}};t.exports=n},function(t,e,r){function n(t){return null===t||void 0===t}function u(t){return t&&"object"==typeof t&&"number"==typeof t.length?"function"!=typeof t.copy||"function"!=typeof t.slice?!1:t.length>0&&"number"!=typeof t[0]?!1:!0:!1}function o(t,e,r){var o,s;if(n(t)||n(e))return!1;if(t.prototype!==e.prototype)return!1;if(f(t))return f(e)?(t=i.call(t),e=i.call(e),c(t,e,r)):!1;if(u(t)){if(!u(e))return!1;if(t.length!==e.length)return!1;for(o=0;o<t.length;o++)if(t[o]!==e[o])return!1;return!0}try{var l=a(t),p=a(e)}catch(h){return!1}if(l.length!=p.length)return!1;for(l.sort(),p.sort(),o=l.length-1;o>=0;o--)if(l[o]!=p[o])return!1;for(o=l.length-1;o>=0;o--)if(s=l[o],!c(t[s],e[s],r))return!1;return typeof t==typeof e}var i=Array.prototype.slice,a=r(9),f=r(10),c=t.exports=function(t,e,r){return r||(r={}),t===e?!0:t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():"object"!=typeof t&&"object"!=typeof e?r.strict?t===e:t==e:o(t,e,r)}},function(t,e){function r(t){var e=[];for(var r in t)e.push(r);return e}e=t.exports="function"==typeof Object.keys?Object.keys:r,e.shim=r},function(t,e){function r(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function n(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}var u="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();e=t.exports=u?r:n,e.supported=r,e.unsupported=n},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function u(t,e){if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var r,n=Object(t),u=n.length>>>0,o=arguments[1],i=0;u>i;i++)if(r=n[i],e.call(o,r,i,n))return r}function o(t,e){return f(e,i,t)}function i(t,e){return console.assert(e in t,"Bad cursor refine: path "+e+" not found in ",t),t[e]}function a(t){return t.slice(0,t.length-1)}function f(t,e,r){return t.reduce(e,r)}function c(t){return[].concat.apply([],t)}function s(t){for(var e=Object.keys(t),r=e.length,n=Array(r),u=0;r>u;u++)n[u]=[e[u],t[e[u]]];return n}function l(t){var e,r,n,u=0;if(void 0===t||null===t)return t;if(0===t.length)return u;for(e=0,n=t.length;n>e;e++)r=t.charCodeAt(e),u=(u<<5)-u+r,u|=0;return u}function p(t){return l(JSON.stringify(t))}function h(t){var e=s(j),r=u(e,function(e){return e[1]===t});if(r)return r[0];var n=(w++).toString();return j[n]=t,n}function d(t,e){var r=this;void 0===t&&(t=O);var n={};return function(){for(var u=arguments.length,o=Array(u),i=0;u>i;i++)o[i]=arguments[i];var a=t.apply(r,o);return hasOwnProperty.call(n,a)?n[a]:n[a]=e.apply(r,o)}}function y(t){if("function"!=typeof Object.freeze)return t;if(!(0,m["default"])(t))return t;var e=Object.getOwnPropertyNames(t);return e.forEach(function(e){var r=t[e];"object"!=typeof r||Object.isFrozen(r)||y(r)}),Object.freeze(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.find=u,e.getIn=o,e.get=i,e.initial=a,e.reduce=f,e.flatten=c,e.pairs=s,e.hashString=l,e.hashRecord=p,e.refToHash=h,e.memoized=d,e.deepFreeze=y;var v=r(12),m=n(v),g=r(8),b=n(g),j={},w=0,O=function(t){return t},x=function(t,e){return(0,b["default"])(t,e)};e.valEq=x;var A=function(t,e){return t===e};e.refEq=A},function(t,e){function r(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}t.exports=r},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(11),u=(0,n.memoized)(n.refToHash,function(t){return t.setState.bind(t)});e.makeSwapFromReact=u;var o=(0,n.memoized)(n.refToHash,function(t){return function(){return t.state}});e.makeDerefFromReact=o;var i=function(t){return t.state};e.makeValueFromReact=i;var a=function(t){return"function"==typeof t.__proto__.render};e.isReactCmp=a},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var u=r(11),o=r(2),i=r(13),a=function l(t,e,r){var i=this;n(this,l),this.value=function(){return(0,u.getIn)(t(),r)},this.refine=function(){for(var n=arguments.length,u=Array(n),o=0;n>o;o++)u[o]=arguments[o];return s(t,e,r.concat(u))},this.swap=function(t){for(var n=arguments.length,u=Array(n>1?n-1:0),i=1;n>i;i++)u[i-1]=arguments[i];return e(function(e){return(0,o.updateIn)(e,r,function(e){return t.apply(null,[e].concat(u))})})},this.set=function(t){return i.swap(function(e){return t})},this.merge=function(t){return i.swap(o.merge,t)},this.push=function(t){return i.swap(o.push,t)},this.unshift=function(t){return i.swap(o.unshift,t)},this.splice=function(t){return i.swap(o.splice,t)}},f=function(t,e){var r=arguments.length<=2||void 0===arguments[2]?[]:arguments[2];return new a(t,e,r)},c=function(t,e,r){return(0,u.refToHash)(t)+(0,u.refToHash)(e)+(0,u.hashRecord)(r)},s=(0,u.memoized)(c,f);a.build=function(t,e){return(0,i.isReactCmp)(t)?s((0,i.makeDerefFromReact)(t),(0,i.makeSwapFromReact)(t)):s(t,e)},e["default"]=a,t.exports=e["default"]},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function u(t,e){var r=t.concat(e||[]);return{shouldComponentUpdate:function(e){var n=this,u=!(0,a.valEq)((0,i["default"])(e,r),(0,i["default"])(this.props,r)),o=!t.every(function(t){return(0,a.refEq)(n.props[t],e[t])});return u||o}}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(16),i=n(o),a=r(11);e["default"]=u,t.exports=e["default"]},function(t,e,r){/*!
	 * omit-key <https://github.com/jonschlinkert/omit-key>
	 *
	 * Copyright (c) 2014 Jon Schlinkert, contributors.
	 * Licensed under the MIT License
	 */
"use strict";var n=r(17),u=r(18);t.exports=function(t,e){if(!n(t))return{};var r=Object.keys(t),o=r.length;e=Array.isArray(e)?e:[e];for(var i=u(r,e),a={},f=0;o>f;f++){var c=i[f];t.hasOwnProperty(c)&&(a[c]=t[c])}return a}},function(t,e){/*!
	 * isobject <https://github.com/jonschlinkert/isobject>
	 *
	 * Copyright (c) 2014 Jon Schlinkert, contributors.
	 * Licensed under the MIT License
	 */
"use strict";t.exports=function(t){return null!=t&&"object"==typeof t&&!Array.isArray(t)}},function(t,e,r){var n;!function(u){function o(t,e){var r,n,u=[];for(r=0,n=t.length;n>r;++r)-1===i.call(e,t[r])&&u.push(t[r]);for(r=0,n=e.length;n>r;++r)-1===i.call(t,e[r])&&u.push(e[r]);return u}var i=Array.prototype.indexOf||function(t){var e,r;if(null==this)throw new TypeError("indexOf called on null or undefined");for(e=0,r=this.length;r>e;++e)if(this[e]===t)return e;return-1};"object"==typeof t&&t.exports?t.exports=o:(n=function(){return o}.call(e,r,e,t),!(void 0!==n&&(t.exports=n)))}(this)}])});