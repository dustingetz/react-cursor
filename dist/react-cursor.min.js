(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
function Cursor(t,e,r){this.value=r,this.pendingValue=function(){return util.getRefAtPath(t._pendingState||t.state,e)},this.transact=_.partial(transact,t,e),this.refine=function(){var r=[].concat(e,util.flatten(arguments)),u=util.getRefAtPath(this.value,_.toArray(arguments));return build(t,r,u)}}function transact(t,e,r){var u;e.length>0?u=React.addons.update(t._pendingState||t.state,e.concat("$set").reduceRight(util.unDeref,r)):0===e.length&&(u=r),t.setState(u)}var React=require("react/addons"),_=require("underscore"),util=require("./util"),cursorBuildMemoizer=util.memoizeFactory(function(t,e,r){return e=void 0===e?[]:e,r=r||util.getRefAtPath(t.state,e),util.refToHash(t)+util.hashRecord(r)+util.hashRecord(e)}),build=cursorBuildMemoizer(function(t,e,r){return e=void 0===e?[]:e,r=r||util.getRefAtPath(t.state,e),new Cursor(t,e,r)});Cursor.build=build,module.exports=Cursor;
},{"./util":4,"react/addons":"react/addons","underscore":"underscore"}],2:[function(require,module,exports){
function ImmutableOptimizations(i,t){return t=void 0===t?[]:t,{shouldComponentUpdate:function(n){var o=!_.isEqual(_.omit(n,_.union(i,t)),_.omit(this.props,_.union(i,t))),r=!_.every(i,function(i){return this.props[i]===n[i]}.bind(this));return o||r}}}var _=require("underscore");module.exports=ImmutableOptimizations;
},{"underscore":"underscore"}],3:[function(require,module,exports){
var Cursor=require("./Cursor"),ImmutableOptimizations=require("./ImmutableOptimizations");module.exports={Cursor:Cursor,ImmutableOptimizations:ImmutableOptimizations};
},{"./Cursor":1,"./ImmutableOptimizations":2}],4:[function(require,module,exports){
"use strict";function getRefAtPath(e,r){return reduce(r,deref,e)}function deref(e,r){return e[r]}function unDeref(e,r){var t={};return t[r]=e,t}function initial(e){return e.slice(0,e.length-1)}function last(e){return e[e.length-1]}function reduce(e,r,t){return e.reduce(r,t)}function flatten(e){return[].concat.apply([],e)}function hashString(e){var r,t,n,a=0;if(void 0===e||null===e)return e;if(0===e.length)return a;for(r=0,n=e.length;n>r;r++)t=e.charCodeAt(r),a=(a<<5)-a+t,a|=0;return a}function generateUUID(){var e=(new Date).getTime(),r="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){var t=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==r?t:7&t|8).toString(16)});return r}function hashRecord(e){return hashString(JSON.stringify(e))}function refToHash(e){var r=_.pairs(refsCache),t=_.find(r,function(r){return r[1]===e});if(t)return t[0];var n=generateUUID();return refsCache[n]=e,n}function memoizeFactory(e){function r(r){return function(){var n=e?e.apply(this,arguments):arguments[0];return hasOwnProperty.call(t,n)?t[n]:t[n]=r.apply(this,arguments)}}var t={};return r}var refsCache={};module.exports={getRefAtPath:getRefAtPath,deref:deref,unDeref:unDeref,initial:initial,last:last,reduce:reduce,flatten:flatten,hashString:hashString,generateUUID:generateUUID,hashRecord:hashRecord,refToHash:refToHash,memoizeFactory:memoizeFactory};
},{}]},{},[3]);
